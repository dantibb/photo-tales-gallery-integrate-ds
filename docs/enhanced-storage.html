<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Data Storage - Photo Tales Gallery Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .sidebar {
            height: calc(100vh - 4rem);
            overflow-y: auto;
        }
        .content {
            height: calc(100vh - 4rem);
            overflow-y: auto;
        }
        .nav-link {
            transition: all 0.2s ease;
        }
        .nav-link:hover {
            background-color: #f3f4f6;
        }
        .nav-link.active {
            background-color: #3b82f6;
            color: white;
        }
        pre {
            background-color: #1f2937;
            color: #f9fafb;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        code {
            background-color: #f3f4f6;
            color: #1f2937;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-family: 'Courier New', monospace;
        }
        .feature-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 0.5rem;
            padding: 1.5rem;
            color: white;
            margin: 1rem 0;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <i class="fas fa-camera text-blue-600 text-2xl mr-3"></i>
                    <h1 class="text-2xl font-bold text-gray-900">Photo Tales Gallery</h1>
                    <span class="ml-3 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full">Documentation</span>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="https://github.com" class="text-gray-500 hover:text-gray-700">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                    <a href="https://openai.com" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-robot text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <nav class="w-64 bg-white shadow-sm sidebar">
            <div class="p-4">
                <h2 class="text-lg font-semibold text-gray-900 mb-4">Documentation</h2>
                <ul class="space-y-2">
                    <li>
                        <a href="index.html" class="nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900">
                            <i class="fas fa-home mr-2"></i>Overview
                        </a>
                    </li>
                    <li>
                        <a href="architecture.html" class="nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900">
                            <i class="fas fa-sitemap mr-2"></i>Architecture
                        </a>
                    </li>
                    <li>
                        <a href="installation.html" class="nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900">
                            <i class="fas fa-download mr-2"></i>Installation
                        </a>
                    </li>
                    <li>
                        <a href="api.html" class="nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900">
                            <i class="fas fa-code mr-2"></i>API Reference
                        </a>
                    </li>
                    <li>
                        <a href="ai-integration.html" class="nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900">
                            <i class="fas fa-brain mr-2"></i>AI Integration
                        </a>
                    </li>
                    <li>
                        <a href="voice-features.html" class="nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900">
                            <i class="fas fa-microphone mr-2"></i>Voice Features
                        </a>
                    </li>
                    <li>
                        <a href="database.html" class="nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900">
                            <i class="fas fa-database mr-2"></i>Database Schema
                        </a>
                    </li>
                    <li>
                        <a href="enhanced-storage.html" class="nav-link active block px-3 py-2 rounded-md text-sm font-medium">
                            <i class="fas fa-rocket mr-2"></i>Enhanced Storage
                        </a>
                    </li>
                    <li>
                        <a href="deployment.html" class="nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900">
                            <i class="fas fa-rocket mr-2"></i>Deployment
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="flex-1 content">
            <div class="max-w-4xl mx-auto px-6 py-8">
                <div class="prose prose-lg max-w-none">
                    <h1 class="text-4xl font-bold text-gray-900 mb-6">Enhanced Data Storage</h1>
                    
                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-8">
                        <div class="flex">
                            <div class="flex-shrink-0">
                                <i class="fas fa-info-circle text-blue-400"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-blue-700">
                                    The Enhanced Data Storage system provides a modern, scalable solution for storing long documents, 
                                    supporting easy updates, and enabling RAG LLM capabilities for Photo Tales Gallery.
                                </p>
                            </div>
                        </div>
                    </div>

                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Overview</h2>
                    
                    <div class="feature-box">
                        <h3 class="text-xl font-bold mb-4">Key Requirements Addressed</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <h4 class="font-bold mb-2"><i class="fas fa-file-alt mr-2"></i>Long Documents</h4>
                                <p class="text-sm">Unlimited text length support for interview transcripts, website content, and detailed notes.</p>
                            </div>
                            <div>
                                <h4 class="font-bold mb-2"><i class="fas fa-edit mr-2"></i>Easy Updates</h4>
                                <p class="text-sm">Simple CRUD operations with automatic timestamps and flexible metadata storage.</p>
                            </div>
                            <div>
                                <h4 class="font-bold mb-2"><i class="fas fa-brain mr-2"></i>RAG LLM Ready</h4>
                                <p class="text-sm">Vector embeddings and semantic search capabilities for AI-powered content discovery.</p>
                            </div>
                        </div>
                    </div>

                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Architecture Options</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <div class="flex items-center mb-4">
                                <i class="fas fa-cloud text-blue-600 text-2xl mr-3"></i>
                                <h3 class="text-lg font-semibold text-gray-900">Production: PostgreSQL + ChromaDB</h3>
                            </div>
                            <ul class="text-sm text-gray-600 space-y-2">
                                <li>• <strong>PostgreSQL:</strong> Structured data with full SQL support</li>
                                <li>• <strong>ChromaDB:</strong> Vector embeddings for semantic search</li>
                                <li>• <strong>Unlimited text:</strong> TEXT fields support any length</li>
                                <li>• <strong>JSONB metadata:</strong> Flexible schema for any data</li>
                                <li>• <strong>Advanced indexing:</strong> GIN indexes for fast queries</li>
                                <li>• <strong>RAG ready:</strong> Vector similarity search</li>
                            </ul>
                        </div>

                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <div class="flex items-center mb-4">
                                <i class="fas fa-laptop text-green-600 text-2xl mr-3"></i>
                                <h3 class="text-lg font-semibold text-gray-900">Development: SQLite</h3>
                            </div>
                            <ul class="text-sm text-gray-600 space-y-2">
                                <li>• <strong>SQLite:</strong> Local database with full SQL support</li>
                                <li>• <strong>No dependencies:</strong> Single file database</li>
                                <li>• <strong>Text search:</strong> SQL-based text matching</li>
                                <li>• <strong>Easy setup:</strong> No external services required</li>
                                <li>• <strong>Fast development:</strong> Instant startup and testing</li>
                                <li>• <strong>Migration ready:</strong> Easy upgrade to PostgreSQL</li>
                            </ul>
                        </div>
                    </div>

                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Quick Start</h2>
                    
                    <div class="bg-white p-6 rounded-lg shadow-sm border mb-8">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Local Development Setup</h3>
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-medium text-gray-900 mb-2">1. One-Command Setup</h4>
                                <pre class="text-sm"><code>cd backend
./setup_simple.sh</code></pre>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900 mb-2">2. Test the System</h4>
                                <pre class="text-sm"><code>python test_simple_store.py</code></pre>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900 mb-2">3. Demo Search Capabilities</h4>
                                <pre class="text-sm"><code>python demo_search.py</code></pre>
                            </div>
                        </div>
                    </div>

                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Usage Examples</h2>
                    
                    <div class="space-y-6 mb-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Adding Interview Transcripts</h3>
                            <pre class="text-sm"><code>from app.simple_data_store import SimpleDataStore

store = SimpleDataStore()

# Add a long interview transcript
interview_id = store.add_interview_transcript(
    title="Paris Vacation Interview - John and Sarah",
    content="""
    Interviewer: Tell me about this photo from your Paris trip.
    
    John: This was taken in May 2022 during our family vacation to Paris. 
    We were standing in front of the Eiffel Tower, and it was our first 
    time visiting the city. The weather was absolutely perfect...
    
    [Full interview transcript continues...]
    """,
    metadata={
        "people": ["John", "Sarah", "Emma"],
        "locations": ["Paris", "Eiffel Tower", "Seine River"],
        "date": "2022-05-15",
        "tags": ["Paris", "Eiffel Tower", "family", "vacation"]
    }
)</code></pre>
                        </div>

                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Adding Website Content</h3>
                            <pre class="text-sm"><code># Add website content
website_id = store.add_website_content(
    title="Paris Travel Guide - Best Family Activities",
    content="""
    Paris is one of the world's most family-friendly cities, offering 
    countless activities that both children and adults will enjoy...
    
    [Full article content continues...]
    """,
    url="https://example.com/paris-family-guide",
    metadata={
        "tags": ["Paris", "family travel", "Eiffel Tower", "museums"],
        "content_type": "travel guide",
        "target_audience": "families with children"
    }
)</code></pre>
                        </div>

                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Searching and Retrieving</h3>
                            <pre class="text-sm"><code># Search for content
results = store.search_documents("Paris vacation with family")

# Get documents by type
interviews = store.get_documents_by_type("interview")
websites = store.get_documents_by_type("website")
notes = store.get_documents_by_type("note")

# Get related documents
related = store.get_related_documents(interview_id)

# Update a document
store.update_document(
    interview_id,
    title="Updated Interview Title",
    metadata={"tags": ["Paris", "family", "updated"]}
)

store.close()</code></pre>
                        </div>
                    </div>

                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Sample Data</h2>
                    
                    <div class="bg-white p-6 rounded-lg shadow-sm border mb-8">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Pre-loaded Sample Content</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <h4 class="font-medium text-gray-900 mb-2">Interview Transcript</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>• Paris vacation interview</li>
                                    <li>• 337+ words of conversation</li>
                                    <li>• People: John, Sarah, Emma</li>
                                    <li>• Locations: Paris, Eiffel Tower</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900 mb-2">Website Content</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>• Paris travel guide</li>
                                    <li>• Family activities guide</li>
                                    <li>• Museum recommendations</li>
                                    <li>• Travel tips and advice</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900 mb-2">Planning Notes</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>• Trip planning details</li>
                                    <li>• Budget breakdown</li>
                                    <li>• Itinerary and schedule</li>
                                    <li>• Packing lists</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Migration from Legacy System</h2>
                    
                    <div class="bg-white p-6 rounded-lg shadow-sm border mb-8">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Migration Path</h3>
                        <div class="space-y-4">
                            <div class="flex items-start space-x-4">
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold mt-1">1</div>
                                <div>
                                    <p class="text-gray-700"><strong>Legacy System:</strong> Firestore + TinyDB for basic context storage</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-4">
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold mt-1">2</div>
                                <div>
                                    <p class="text-gray-700"><strong>Enhanced System:</strong> PostgreSQL + ChromaDB for full document support</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-4">
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold mt-1">3</div>
                                <div>
                                    <p class="text-gray-700"><strong>Migration Tools:</strong> Automated scripts to transfer data between systems</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-4">
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold mt-1">4</div>
                                <div>
                                    <p class="text-gray-700"><strong>Backward Compatibility:</strong> Legacy system remains supported during transition</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Performance & Scalability</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Performance Features</h3>
                            <ul class="text-sm text-gray-600 space-y-2">
                                <li>• <strong>Indexed queries:</strong> Fast text and metadata searches</li>
                                <li>• <strong>Connection pooling:</strong> Efficient database connections</li>
                                <li>• <strong>Batch operations:</strong> Bulk insert/update capabilities</li>
                                <li>• <strong>Caching:</strong> Query result caching for repeated searches</li>
                                <li>• <strong>Pagination:</strong> Large result set handling</li>
                            </ul>
                        </div>

                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Scalability Features</h3>
                            <ul class="text-sm text-gray-600 space-y-2">
                                <li>• <strong>Horizontal scaling:</strong> PostgreSQL cluster support</li>
                                <li>• <strong>Vector scaling:</strong> ChromaDB distributed mode</li>
                                <li>• <strong>Storage scaling:</strong> Unlimited document size</li>
                                <li>• <strong>Query scaling:</strong> Efficient complex queries</li>
                                <li>• <strong>Load balancing:</strong> Multiple database connections</li>
                            </ul>
                        </div>
                    </div>

                    <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-8">
                        <div class="flex">
                            <div class="flex-shrink-0">
                                <i class="fas fa-check-circle text-green-400"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-green-700">
                                    <strong>Enhanced Storage Benefits:</strong> The new storage architecture provides unlimited document length, 
                                    easy updates, and RAG LLM capabilities while maintaining backward compatibility and offering both 
                                    production and development deployment options.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Simple navigation highlighting
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>


